function debounce(t,e){var i=null;return function(){var n=this,r=arguments;clearTimeout(i),i=setTimeout(function(){t.apply(n,r)},e)}}!function(){for(var t,e=function(){},i=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],n=i.length,r=window.console=window.console||{};n--;)t=i[n],r[t]||(r[t]=e)}(),!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Trianglify=t()}}(function(){var t;return function e(t,i,n){function r(s,a){if(!i[s]){if(!t[s]){var f="function"==typeof require&&require;if(!a&&f)return f(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=i[s]={exports:{}};t[s][0].call(c.exports,function(e){var i=t[s][1][e];return r(i?i:e)},c,c.exports,e,t,i,n)}return i[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)r(n[s]);return r}({"./lib/trianglify.js":[function(t,e){function i(t){function e(t,e,i){return(t-e[0])*(i[1]-i[0])/(e[1]-e[0])+i[0]}function i(i,n){for(var r=[],o=-b;i+b>o;o+=t.cell_size)for(var s=-v;n+v>s;s+=t.cell_size){var a=o+t.cell_size/2+e(rand(),[0,1],[-_,_]),f=s+t.cell_size/2+e(rand(),[0,1],[-_,_]);r.push([a,f].map(Math.floor))}return r}function s(t){return{x:(t[0][0]+t[1][0]+t[2][0])/3,y:(t[0][1]+t[1][1]+t[2][1])/3}}function u(){if(t.palette instanceof Array)return t.palette[Math.floor(rand()*t.palette.length)];var e=Object.keys(t.palette);return t.palette[e[Math.floor(rand()*e.length)]]}function c(t,e){var i={};for(var n in t)i[n]=t[n];for(n in e){if(!t.hasOwnProperty(n))throw new Error(n+" is not a configuration option for Trianglify. Check your spelling?");i[n]=e[n]}return i}if(t=c(f,t),rand=r(t.seed),"random"===t.x_colors&&(t.x_colors=u()),"random"===t.y_colors&&(t.y_colors=u()),"match_x"===t.y_colors&&(t.y_colors=t.x_colors),!(t.width>0&&t.height>0))throw new Error("Width and height must be numbers greater than 0");if(t.cell_size<2)throw new Error("Cell size must be greater than 2.");var h;if(t.color_function)h=function(e,i){return o(t.color_function(e,i))};else{var l=o.scale(t.x_colors).mode(t.color_space),d=o.scale(t.y_colors).mode(t.color_space);h=function(e,i){return o.interpolate(l(e),d(i),.5,t.color_space)}}for(var p=t.width,y=t.height,m=Math.floor((p+4*t.cell_size)/t.cell_size),g=Math.floor((y+4*t.cell_size)/t.cell_size),b=(m*t.cell_size-p)/2,v=(g*t.cell_size-y)/2,_=t.cell_size*t.variance/2,w=function(t){return e(t,[-b,p+b],[0,1])},x=function(t){return e(t,[-v,y+v],[0,1])},I=i(p,y),z=n.triangulate(I),E=[],S=function(t){return I[t]},L=0;L<z.length;L+=3){var M=[z[L],z[L+1],z[L+2]].map(S),P=s(M),T=h(w(P.x),x(P.y)).hex();E.push([T,M])}return a(E,t)}var n=t("delaunay-fast"),r=t("seedrandom"),o=t("chroma-js"),s=t("./colorbrewer"),a=t("./pattern"),f={width:600,height:400,cell_size:75,variance:.75,seed:null,x_colors:"random",y_colors:"match_x",palette:s,color_space:"lab",color_function:null,stroke_width:1.51};i.colorbrewer=s,i.defaults=f,e.exports=i},{"./colorbrewer":"/Users/qrohlf/Projects/trianglify/lib/colorbrewer.js","./pattern":"/Users/qrohlf/Projects/trianglify/lib/pattern.js","chroma-js":"/Users/qrohlf/Projects/trianglify/node_modules/chroma-js/chroma.js","delaunay-fast":"/Users/qrohlf/Projects/trianglify/node_modules/delaunay-fast/delaunay.js",seedrandom:"/Users/qrohlf/Projects/trianglify/node_modules/seedrandom/seedrandom.js"}],"/Users/qrohlf/Projects/trianglify/lib/colorbrewer.js":[function(t,e){e.exports={YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"]}},{}],"/Users/qrohlf/Projects/trianglify/lib/pattern.js":[function(t,e){function i(t,e){function i(){var i=n.createElementNS("http://www.w3.org/2000/svg","svg");return i.setAttribute("width",e.width),i.setAttribute("height",e.height),t.forEach(function(t){var r=n.createElementNS("http://www.w3.org/2000/svg","path");r.setAttribute("d","M"+t[1].join("L")+"Z"),r.setAttribute("fill",t[0]),r.setAttribute("stroke",t[0]),r.setAttribute("stroke-width",e.stroke_width),i.appendChild(r)}),i}function r(i){return i||(i=n.createElement("canvas")),i.setAttribute("width",e.width),i.setAttribute("height",e.height),ctx=i.getContext("2d"),ctx.canvas.width=e.width,ctx.canvas.height=e.height,t.forEach(function(t){ctx.fillStyle=ctx.strokeStyle=t[0],ctx.lineWidth=e.stroke_width,ctx.beginPath(),ctx.moveTo.apply(ctx,t[1][0]),ctx.lineTo.apply(ctx,t[1][1]),ctx.lineTo.apply(ctx,t[1][2]),ctx.fill(),ctx.stroke()}),i}function o(){return r().toDataURL("image/png")}return{polys:t,opts:e,svg:i,canvas:r,png:o}}var n="undefined"!=typeof document?document:t("jsdom").jsdom("<html/>");e.exports=i},{jsdom:"/Users/qrohlf/Projects/trianglify/node_modules/browserify/node_modules/browser-resolve/empty.js"}],"/Users/qrohlf/Projects/trianglify/node_modules/browserify/node_modules/browser-resolve/empty.js":[function(){},{}],"/Users/qrohlf/Projects/trianglify/node_modules/chroma-js/chroma.js":[function(e,i,n){(function(){var e,r,o,s,a,f,u,c,h,l,d,p,y,m,g,b,v,_,w,x,I,z,E,S,L,M,P,T,R,k,j,O,C,q,D,N,W,A,B;l=function(t,i,n,r){return new e(t,i,n,r)},"undefined"!=typeof i&&null!==i&&null!=i.exports&&(i.exports=l),"function"==typeof t&&t.amd?t([],function(){return l}):(q="undefined"!=typeof n&&null!==n?n:this,q.chroma=l),l.color=function(t,i,n,r){return new e(t,i,n,r)},l.hsl=function(t,i,n,r){return new e(t,i,n,r,"hsl")},l.hsv=function(t,i,n,r){return new e(t,i,n,r,"hsv")},l.rgb=function(t,i,n,r){return new e(t,i,n,r,"rgb")},l.hex=function(t){return new e(t)},l.css=function(t){return new e(t)},l.lab=function(t,i,n){return new e(t,i,n,"lab")},l.lch=function(t,i,n){return new e(t,i,n,"lch")},l.hsi=function(t,i,n){return new e(t,i,n,"hsi")},l.gl=function(t,i,n,r){return new e(255*t,255*i,255*n,r,"gl")},l.interpolate=function(t,i,n,r){return null==t||null==i?"#000":("string"===D(t)&&(t=new e(t)),"string"===D(i)&&(i=new e(i)),t.interpolate(n,i,r))},l.mix=l.interpolate,l.contrast=function(t,i){var n,r;return"string"===D(t)&&(t=new e(t)),"string"===D(i)&&(i=new e(i)),n=t.luminance(),r=i.luminance(),n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)},l.luminance=function(t){return l(t).luminance()},l._Color=e,e=function(){function t(){var t,e,i,n,r,o,s,a,f,u,c,h,l,p,y,m;for(r=this,i=[],u=0,c=arguments.length;c>u;u++)e=arguments[u],null!=e&&i.push(e);if(0===i.length)h=[255,0,255,1,"rgb"],s=h[0],a=h[1],f=h[2],t=h[3],n=h[4];else if("array"===D(i[0])){if(3===i[0].length)l=i[0],s=l[0],a=l[1],f=l[2],t=1;else{if(4!==i[0].length)throw"unknown input argument";p=i[0],s=p[0],a=p[1],f=p[2],t=p[3]}n=null!=(y=i[1])?y:"rgb"}else"string"===D(i[0])?(s=i[0],n="hex"):"object"===D(i[0])?(m=i[0]._rgb,s=m[0],a=m[1],f=m[2],t=m[3],n="rgb"):i.length>=3&&(s=i[0],a=i[1],f=i[2]);3===i.length?(n="rgb",t=1):4===i.length?"string"===D(i[3])?(n=i[3],t=1):"number"===D(i[3])&&(n="rgb",t=i[3]):5===i.length&&(t=i[3],n=i[4]),null==t&&(t=1),"rgb"===n?r._rgb=[s,a,f,t]:"gl"===n?r._rgb=[255*s,255*a,255*f,t]:"hsl"===n?(r._rgb=v(s,a,f),r._rgb[3]=t):"hsv"===n?(r._rgb=_(s,a,f),r._rgb[3]=t):"hex"===n?r._rgb=g(s):"lab"===n?(r._rgb=x(s,a,f),r._rgb[3]=t):"lch"===n?(r._rgb=E(s,a,f),r._rgb[3]=t):"hsi"===n&&(r._rgb=b(s,a,f),r._rgb[3]=t),o=d(r._rgb)}return t.prototype.rgb=function(){return this._rgb.slice(0,3)},t.prototype.rgba=function(){return this._rgb},t.prototype.hex=function(){return P(this._rgb)},t.prototype.toString=function(){return this.name()},t.prototype.hsl=function(){return R(this._rgb)},t.prototype.hsv=function(){return k(this._rgb)},t.prototype.lab=function(){return j(this._rgb)},t.prototype.lch=function(){return O(this._rgb)},t.prototype.hsi=function(){return T(this._rgb)},t.prototype.gl=function(){return[this._rgb[0]/255,this._rgb[1]/255,this._rgb[2]/255,this._rgb[3]]},t.prototype.luminance=function(e,i){var n,r,o,s;return null==i&&(i="rgb"),arguments.length?(0===e&&(this._rgb=[0,0,0,this._rgb[3]]),1===e&&(this._rgb=[255,255,255,this._rgb[3]]),n=L(this._rgb),r=1e-7,o=20,s=function(t,n){var a,f;return f=t.interpolate(.5,n,i),a=f.luminance(),Math.abs(e-a)<r||!o--?f:a>e?s(t,f):s(f,n)},this._rgb=(n>e?s(new t("black"),this):s(this,new t("white"))).rgba(),this):L(this._rgb)},t.prototype.name=function(){var t,e;t=this.hex();for(e in l.colors)if(t===l.colors[e])return e;return t},t.prototype.alpha=function(t){return arguments.length?(this._rgb[3]=t,this):this._rgb[3]},t.prototype.css=function(t){var e,i,n,r;return null==t&&(t="rgb"),i=this,n=i._rgb,3===t.length&&n[3]<1&&(t+="a"),"rgb"===t?t+"("+n.slice(0,3).map(Math.round).join(",")+")":"rgba"===t?t+"("+n.slice(0,3).map(Math.round).join(",")+","+n[3]+")":"hsl"===t||"hsla"===t?(e=i.hsl(),r=function(t){return Math.round(100*t)/100},e[0]=r(e[0]),e[1]=r(100*e[1])+"%",e[2]=r(100*e[2])+"%",4===t.length&&(e[3]=n[3]),t+"("+e.join(",")+")"):void 0},t.prototype.interpolate=function(e,i,n){var r,o,s,a,f,u,c,h,l,d,p,y,m,g;if(h=this,null==n&&(n="rgb"),"string"===D(i)&&(i=new t(i)),"hsl"===n||"hsv"===n||"lch"===n||"hsi"===n)"hsl"===n?(m=h.hsl(),g=i.hsl()):"hsv"===n?(m=h.hsv(),g=i.hsv()):"hsi"===n?(m=h.hsi(),g=i.hsi()):"lch"===n&&(m=h.lch(),g=i.lch()),"h"===n.substr(0,1)?(s=m[0],p=m[1],u=m[2],a=g[0],y=g[1],c=g[2]):(u=m[0],p=m[1],s=m[2],c=g[0],y=g[1],a=g[2]),isNaN(s)||isNaN(a)?isNaN(s)?isNaN(a)?o=Number.NaN:(o=a,1!==u&&0!==u||"hsv"===n||(d=y)):(o=s,1!==c&&0!==c||"hsv"===n||(d=p)):(r=a>s&&a-s>180?a-(s+360):s>a&&s-a>180?a+360-s:a-s,o=s+e*r),null==d&&(d=p+e*(y-p)),f=u+e*(c-u),l="h"===n.substr(0,1)?new t(o,d,f,n):new t(f,d,o,n);else if("rgb"===n)m=h._rgb,g=i._rgb,l=new t(m[0]+e*(g[0]-m[0]),m[1]+e*(g[1]-m[1]),m[2]+e*(g[2]-m[2]),n);else{if("lab"!==n)throw"color mode "+n+" is not supported";m=h.lab(),g=i.lab(),l=new t(m[0]+e*(g[0]-m[0]),m[1]+e*(g[1]-m[1]),m[2]+e*(g[2]-m[2]),n)}return l.alpha(h.alpha()+e*(i.alpha()-h.alpha())),l},t.prototype.premultiply=function(){var t,e;return e=this.rgb(),t=this.alpha(),l(e[0]*t,e[1]*t,e[2]*t,t)},t.prototype.darken=function(t){var e,i;return null==t&&(t=20),i=this,e=i.lch(),e[0]-=t,l.lch(e).alpha(i.alpha())},t.prototype.darker=function(t){return this.darken(t)},t.prototype.brighten=function(t){return null==t&&(t=20),this.darken(-t)},t.prototype.brighter=function(t){return this.brighten(t)},t.prototype.saturate=function(t){var e,i;return null==t&&(t=20),i=this,e=i.lch(),e[1]+=t,l.lch(e).alpha(i.alpha())},t.prototype.desaturate=function(t){return null==t&&(t=20),this.saturate(-t)},t}(),d=function(t){var e;for(e in t)3>e?(t[e]<0&&(t[e]=0),t[e]>255&&(t[e]=255)):3===e&&(t[e]<0&&(t[e]=0),t[e]>1&&(t[e]=1));return t},m=function(t){var e,i,n,r,o,s,a,f;if(t=t.toLowerCase(),null!=l.colors&&l.colors[t])return g(l.colors[t]);if(n=t.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(r=n.slice(1,4),i=o=0;2>=o;i=++o)r[i]=+r[i];r[3]=1}else if(n=t.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(r=n.slice(1,5),i=s=0;3>=s;i=++s)r[i]=+r[i];else if(n=t.match(/rgb\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){for(r=n.slice(1,4),i=a=0;2>=a;i=++a)r[i]=Math.round(2.55*r[i]);r[3]=1}else if(n=t.match(/rgba\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){for(r=n.slice(1,5),i=f=0;2>=f;i=++f)r[i]=Math.round(2.55*r[i]);r[3]=+r[3]}else(n=t.match(/hsl\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/))?(e=n.slice(1,4),e[1]*=.01,e[2]*=.01,r=v(e),r[3]=1):(n=t.match(/hsla\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/))&&(e=n.slice(1,4),e[1]*=.01,e[2]*=.01,r=v(e),r[3]=+n[4]);return r},g=function(t){var e,i,n,r,o,s;if(t.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/))return(4===t.length||7===t.length)&&(t=t.substr(1)),3===t.length&&(t=t.split(""),t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),s=parseInt(t,16),r=s>>16,n=s>>8&255,i=255&s,[r,n,i,1];if(t.match(/^#?([A-Fa-f0-9]{8})$/))return 9===t.length&&(t=t.substr(1)),s=parseInt(t,16),r=s>>24&255,n=s>>16&255,i=s>>8&255,e=255&s,[r,n,i,e];if(o=m(t))return o;throw"unknown color: "+t},b=function(t,e,i){var n,r,a,f;return f=N(arguments),t=f[0],e=f[1],i=f[2],t/=360,1/3>t?(n=(1-e)/3,a=(1+e*y(s*t)/y(o-s*t))/3,r=1-(n+a)):2/3>t?(t-=1/3,a=(1-e)/3,r=(1+e*y(s*t)/y(o-s*t))/3,n=1-(a+r)):(t-=2/3,r=(1-e)/3,n=(1+e*y(s*t)/y(o-s*t))/3,a=1-(r+n)),a=S(i*a*3),r=S(i*r*3),n=S(i*n*3),[255*a,255*r,255*n]},v=function(){var t,e,i,n,r,o,s,a,f,u,c,h,l,d;if(l=N(arguments),n=l[0],a=l[1],o=l[2],0===a)s=i=t=255*o;else{for(c=[0,0,0],e=[0,0,0],u=.5>o?o*(1+a):o+a-o*a,f=2*o-u,n/=360,c[0]=n+1/3,c[1]=n,c[2]=n-1/3,r=h=0;2>=h;r=++h)c[r]<0&&(c[r]+=1),c[r]>1&&(c[r]-=1),e[r]=6*c[r]<1?f+6*(u-f)*c[r]:2*c[r]<1?u:3*c[r]<2?f+(u-f)*(2/3-c[r])*6:f;d=[Math.round(255*e[0]),Math.round(255*e[1]),Math.round(255*e[2])],s=d[0],i=d[1],t=d[2]}return[s,i,t]},_=function(){var t,e,i,n,r,o,s,a,f,u,c,h,l,d,p,y,m,g;if(h=N(arguments),n=h[0],f=h[1],c=h[2],c*=255,0===f)a=i=t=c;else switch(360===n&&(n=0),n>360&&(n-=360),0>n&&(n+=360),n/=60,r=Math.floor(n),e=n-r,o=c*(1-f),s=c*(1-f*e),u=c*(1-f*(1-e)),r){case 0:l=[c,u,o],a=l[0],i=l[1],t=l[2];break;case 1:d=[s,c,o],a=d[0],i=d[1],t=d[2];break;case 2:p=[o,c,u],a=p[0],i=p[1],t=p[2];break;case 3:y=[o,s,c],a=y[0],i=y[1],t=y[2];break;case 4:m=[u,o,c],a=m[0],i=m[1],t=m[2];break;case 5:g=[c,o,s],a=g[0],i=g[1],t=g[2]}return a=Math.round(a),i=Math.round(i),t=Math.round(t),[a,i,t]},r=18,a=.95047,f=1,u=1.08883,w=function(){var t,e,i,n,r,o;return o=N(arguments),r=o[0],t=o[1],e=o[2],i=Math.sqrt(t*t+e*e),n=Math.atan2(e,t)/Math.PI*180,[r,i,n]},x=function(t,e,i){var n,r,o,s,c,h,l;return void 0!==t&&3===t.length&&(h=t,t=h[0],e=h[1],i=h[2]),void 0!==t&&3===t.length&&(l=t,t=l[0],e=l[1],i=l[2]),s=(t+16)/116,o=s+e/500,c=s-i/200,o=I(o)*a,s=I(s)*f,c=I(c)*u,r=A(3.2404542*o-1.5371385*s-.4985314*c),n=A(-.969266*o+1.8760108*s+.041556*c),i=A(.0556434*o-.2040259*s+1.0572252*c),[S(r,0,255),S(n,0,255),S(i,0,255),1]},I=function(t){return t>.206893034?t*t*t:(t-4/29)/7.787037},A=function(t){return Math.round(255*(.00304>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055))},z=function(){var t,e,i,n;return n=N(arguments),i=n[0],t=n[1],e=n[2],e=e*Math.PI/180,[i,Math.cos(e)*t,Math.sin(e)*t]},E=function(t,e,i){var n,r,o,s,a,f,u;return f=z(t,e,i),n=f[0],r=f[1],o=f[2],u=x(n,r,o),a=u[0],s=u[1],o=u[2],[S(a,0,255),S(s,0,255),S(o,0,255)]},L=function(t,e,i){var n;return n=N(arguments),t=n[0],e=n[1],i=n[2],t=M(t),e=M(e),i=M(i),.2126*t+.7152*e+.0722*i},M=function(t){return t/=255,.03928>=t?t/12.92:Math.pow((t+.055)/1.055,2.4)},P=function(){var t,e,i,n,r,o;return o=N(arguments),i=o[0],e=o[1],t=o[2],r=i<<16|e<<8|t,n="000000"+r.toString(16),"#"+n.substr(n.length-6)},T=function(){var t,e,i,n,r,o,s,a,f;return f=N(arguments),s=f[0],i=f[1],e=f[2],t=2*Math.PI,s/=255,i/=255,e/=255,o=Math.min(s,i,e),r=(s+i+e)/3,a=1-o/r,0===a?n=0:(n=(s-i+(s-e))/2,n/=Math.sqrt((s-i)*(s-i)+(s-e)*(i-e)),n=Math.acos(n),e>i&&(n=t-n),n/=t),[360*n,a,r]},R=function(t,e,i){var n,r,o,s,a,f;return void 0!==t&&t.length>=3&&(f=t,t=f[0],e=f[1],i=f[2]),t/=255,e/=255,i/=255,s=Math.min(t,e,i),o=Math.max(t,e,i),r=(o+s)/2,o===s?(a=0,n=Number.NaN):a=.5>r?(o-s)/(o+s):(o-s)/(2-o-s),t===o?n=(e-i)/(o-s):e===o?n=2+(i-t)/(o-s):i===o&&(n=4+(t-e)/(o-s)),n*=60,0>n&&(n+=360),[n,a,r]},k=function(){var t,e,i,n,r,o,s,a,f,u;return u=N(arguments),s=u[0],i=u[1],t=u[2],o=Math.min(s,i,t),r=Math.max(s,i,t),e=r-o,f=r/255,0===r?(n=Number.NaN,a=0):(a=e/r,s===r&&(n=(i-t)/e),i===r&&(n=2+(t-s)/e),t===r&&(n=4+(s-i)/e),n*=60,0>n&&(n+=360)),[n,a,f]},j=function(){var t,e,i,n,r,o,s;return s=N(arguments),i=s[0],e=s[1],t=s[2],i=C(i),e=C(e),t=C(t),n=W((.4124564*i+.3575761*e+.1804375*t)/a),r=W((.2126729*i+.7151522*e+.072175*t)/f),o=W((.0193339*i+.119192*e+.9503041*t)/u),[116*r-16,500*(n-r),200*(r-o)]},C=function(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)},W=function(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29},O=function(){var t,e,i,n,r,o,s;return o=N(arguments),r=o[0],i=o[1],e=o[2],s=j(r,i,e),n=s[0],t=s[1],e=s[2],w(n,t,e)},l.scale=function(t,e){var i,n,r,o,s,a,f,u,c,h,d,p,y,m,g,b,v,_,w,x,I;return b="rgb",v=l("#ccc"),I=0,y=!1,p=[0,1],h=[],w=!1,x=[],g=0,m=1,d=!1,_=0,c={},a=function(t,e){var i,n,r,o,a,f,u;if(null==t&&(t=["#ddd","#222"]),null!=t&&"string"===D(t)&&null!=(null!=(a=l.brewer)?a[t]:void 0)&&(t=l.brewer[t]),"array"===D(t)){for(t=t.slice(0),i=r=0,f=t.length-1;f>=0?f>=r:r>=f;i=f>=0?++r:--r)n=t[i],"string"===D(n)&&(t[i]=l(n));if(null!=e)x=e;else for(x=[],i=o=0,u=t.length-1;u>=0?u>=o:o>=u;i=u>=0?++o:--o)x.push(i/(t.length-1))}return s(),h=t},f=function(t){return null==t&&(t=[]),p=t,g=t[0],m=t[t.length-1],s(),_=2===t.length?0:t.length-1},r=function(t){var e,i;if(null!=p){for(i=p.length-1,e=0;i>e&&t>=p[e];)e++;return e-1}return 0},u=function(t){return t},i=function(t){var e,i,n,o,s;return s=t,p.length>2&&(o=p.length-1,e=r(t),n=p[0]+(p[1]-p[0])*(0+.5*I),i=p[o-1]+(p[o]-p[o-1])*(1-.5*I),s=g+(p[e]+.5*(p[e+1]-p[e])-n)/(i-n)*(m-g)),s},o=function(t,e){var i,n,o,s,a,f,d,y,w;if(null==e&&(e=!1),isNaN(t))return v;if(e?d=t:p.length>2?(i=r(t),d=i/(_-1)):(d=o=g!==m?(t-g)/(m-g):0,d=o=(t-g)/(m-g),d=Math.min(1,Math.max(0,d))),e||(d=u(d)),a=Math.floor(1e4*d),c[a])n=c[a];else{if("array"===D(h))for(s=y=0,w=x.length-1;w>=0?w>=y:y>=w;s=w>=0?++y:--y){if(f=x[s],f>=d){n=h[s];break}if(d>=f&&s===x.length-1){n=h[s];break}if(d>f&&d<x[s+1]){d=(d-f)/(x[s+1]-f),n=l.interpolate(h[s],h[s+1],d,b);break}}else"function"===D(h)&&(n=h(d));c[a]=n}return n},s=function(){return c={}},a(t,e),n=function(t){var e;return e=o(t),w&&e[w]?e[w]():e},n.domain=function(t,e,i,r){var o;return null==i&&(i="e"),arguments.length?(null!=e&&(o=l.analyze(t,r),t=0===e?[o.min,o.max]:l.limits(o,i,e)),f(t),n):p},n.mode=function(t){return arguments.length?(b=t,s(),n):b},n.range=function(t,e){return a(t,e),n},n.out=function(t){return w=t,n},n.spread=function(t){return arguments.length?(I=t,n):I},n.correctLightness=function(t){return arguments.length?(d=t,s(),u=d?function(t){var e,i,n,r,s,a,f,u,c;for(e=o(0,!0).lab()[0],i=o(1,!0).lab()[0],f=e>i,n=o(t,!0).lab()[0],s=e+(i-e)*t,r=n-s,u=0,c=1,a=20;Math.abs(r)>.01&&a-->0;)!function(){return f&&(r*=-1),0>r?(u=t,t+=.5*(c-t)):(c=t,t+=.5*(u-t)),n=o(t,!0).lab()[0],r=n-s}();return t}:function(t){return t},n):d},n.colors=function(e){var i,r,o,s,a,f;if(null==e&&(e="hex"),t=[],r=[],p.length>2)for(i=o=1,f=p.length;f>=1?f>o:o>f;i=f>=1?++o:--o)r.push(.5*(p[i-1]+p[i]));else r=p;for(s=0,a=r.length;a>s;s++)i=r[s],t.push(n(i)[e]());return t},n},null==(B=l.scales)&&(l.scales={}),l.scales.cool=function(){return l.scale([l.hsl(180,1,.9),l.hsl(250,.7,.4)])},l.scales.hot=function(){return l.scale(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")},l.analyze=function(t,e,i){var n,r,o,s,a,f,u;if(o={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},null==i&&(i=function(){return!0}),n=function(t){null==t||isNaN(t)||(o.values.push(t),o.sum+=t,t<o.min&&(o.min=t),t>o.max&&(o.max=t),o.count+=1)},a=function(t,r){return i(t,r)?n(null!=e&&"function"===D(e)?e(t):null!=e&&"string"===D(e)||"number"===D(e)?t[e]:t):void 0},"array"===D(t))for(f=0,u=t.length;u>f;f++)s=t[f],a(s);else for(r in t)s=t[r],a(s,r);return o.domain=[o.min,o.max],o.limits=function(t,e){return l.limits(o,t,e)},o},l.limits=function(t,e,i){var n,r,o,s,a,f,u,c,h,d,p,y,m,g,b,v,_,w,x,I,z,E,S,L,M,P,T,R,k,j,O,C,q,N,W,A,B,H,F,Y,G,U,V,X,Q,$,J,Z,K,tt,et,it,nt,rt,ot,st;if(null==e&&(e="equal"),null==i&&(i=7),"array"===D(t)&&(t=l.analyze(t)),m=t.min,p=t.max,S=t.sum,P=t.values.sort(function(t,e){return t-e}),d=[],"c"===e.substr(0,1)&&(d.push(m),d.push(p)),"e"===e.substr(0,1)){for(d.push(m),u=T=1,B=i-1;B>=1?B>=T:T>=B;u=B>=1?++T:--T)d.push(m+u/i*(p-m));d.push(p)}else if("l"===e.substr(0,1)){if(0>=m)throw"Logarithmic scales are only possible for values > 0";for(g=Math.LOG10E*Math.log(m),y=Math.LOG10E*Math.log(p),d.push(m),u=R=1,X=i-1;X>=1?X>=R:R>=X;u=X>=1?++R:--R)d.push(Math.pow(10,g+u/i*(y-g)));d.push(p)}else if("q"===e.substr(0,1)){for(d.push(m),u=k=1,Q=i-1;Q>=1?Q>=k:k>=Q;u=Q>=1?++k:--k)x=P.length*u/i,I=Math.floor(x),I===x?d.push(P[I]):(z=x-I,d.push(P[I]*z+P[I+1]*(1-z)));d.push(p)}else if("k"===e.substr(0,1)){for(v=P.length,n=new Array(v),a=new Array(i),E=!0,_=0,o=null,o=[],o.push(m),u=j=1,$=i-1;$>=1?$>=j:j>=$;u=$>=1?++j:--j)o.push(m+u/i*(p-m));for(o.push(p);E;){for(c=O=0,J=i-1;J>=0?J>=O:O>=J;c=J>=0?++O:--O)a[c]=0;for(u=C=0,Z=v-1;Z>=0?Z>=C:C>=Z;u=Z>=0?++C:--C){for(M=P[u],b=Number.MAX_VALUE,c=q=0,K=i-1;K>=0?K>=q:q>=K;c=K>=0?++q:--q)f=Math.abs(o[c]-M),b>f&&(b=f,r=c);a[r]++,n[u]=r}for(w=new Array(i),c=N=0,tt=i-1;tt>=0?tt>=N:N>=tt;c=tt>=0?++N:--N)w[c]=null;for(u=W=0,et=v-1;et>=0?et>=W:W>=et;u=et>=0?++W:--W)s=n[u],null===w[s]?w[s]=P[u]:w[s]+=P[u];for(c=A=0,H=i-1;H>=0?H>=A:A>=H;c=H>=0?++A:--A)w[c]*=1/a[c];for(E=!1,c=it=0,F=i-1;F>=0?F>=it:it>=F;c=F>=0?++it:--it)if(w[c]!==o[u]){E=!0;break}o=w,_++,_>200&&(E=!1)}for(h={},c=nt=0,Y=i-1;Y>=0?Y>=nt:nt>=Y;c=Y>=0?++nt:--nt)h[c]=[];for(u=rt=0,G=v-1;G>=0?G>=rt:rt>=G;u=G>=0?++rt:--rt)s=n[u],h[s].push(P[u]);for(L=[],c=ot=0,U=i-1;U>=0?U>=ot:ot>=U;c=U>=0?++ot:--ot)L.push(h[c][0]),L.push(h[c][h[c].length-1]);for(L=L.sort(function(t,e){return t-e}),d.push(L[0]),u=st=1,V=L.length-1;V>=st;u=st+=2)isNaN(L[u])||d.push(L[u])}return d},l.brewer=h={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},l.colors=p={indigo:"#4b0082",gold:"#ffd700",hotpink:"#ff69b4",firebrick:"#b22222",indianred:"#cd5c5c",yellow:"#ffff00",mistyrose:"#ffe4e1",darkolivegreen:"#556b2f",olive:"#808000",darkseagreen:"#8fbc8f",pink:"#ffc0cb",tomato:"#ff6347",lightcoral:"#f08080",orangered:"#ff4500",navajowhite:"#ffdead",lime:"#00ff00",palegreen:"#98fb98",darkslategrey:"#2f4f4f",greenyellow:"#adff2f",burlywood:"#deb887",seashell:"#fff5ee",mediumspringgreen:"#00fa9a",fuchsia:"#ff00ff",papayawhip:"#ffefd5",blanchedalmond:"#ffebcd",chartreuse:"#7fff00",dimgray:"#696969",black:"#000000",peachpuff:"#ffdab9",springgreen:"#00ff7f",aquamarine:"#7fffd4",white:"#ffffff",orange:"#ffa500",lightsalmon:"#ffa07a",darkslategray:"#2f4f4f",brown:"#a52a2a",ivory:"#fffff0",dodgerblue:"#1e90ff",peru:"#cd853f",lawngreen:"#7cfc00",chocolate:"#d2691e",crimson:"#dc143c",forestgreen:"#228b22",darkgrey:"#a9a9a9",lightseagreen:"#20b2aa",cyan:"#00ffff",mintcream:"#f5fffa",silver:"#c0c0c0",antiquewhite:"#faebd7",mediumorchid:"#ba55d3",skyblue:"#87ceeb",gray:"#808080",darkturquoise:"#00ced1",goldenrod:"#daa520",darkgreen:"#006400",floralwhite:"#fffaf0",darkviolet:"#9400d3",darkgray:"#a9a9a9",moccasin:"#ffe4b5",saddlebrown:"#8b4513",grey:"#808080",darkslateblue:"#483d8b",lightskyblue:"#87cefa",lightpink:"#ffb6c1",mediumvioletred:"#c71585",slategrey:"#708090",red:"#ff0000",deeppink:"#ff1493",limegreen:"#32cd32",darkmagenta:"#8b008b",palegoldenrod:"#eee8aa",plum:"#dda0dd",turquoise:"#40e0d0",lightgrey:"#d3d3d3",lightgoldenrodyellow:"#fafad2",darkgoldenrod:"#b8860b",lavender:"#e6e6fa",maroon:"#800000",yellowgreen:"#9acd32",sandybrown:"#f4a460",thistle:"#d8bfd8",violet:"#ee82ee",navy:"#000080",magenta:"#ff00ff",dimgrey:"#696969",tan:"#d2b48c",rosybrown:"#bc8f8f",olivedrab:"#6b8e23",blue:"#0000ff",lightblue:"#add8e6",ghostwhite:"#f8f8ff",honeydew:"#f0fff0",cornflowerblue:"#6495ed",slateblue:"#6a5acd",linen:"#faf0e6",darkblue:"#00008b",powderblue:"#b0e0e6",seagreen:"#2e8b57",darkkhaki:"#bdb76b",snow:"#fffafa",sienna:"#a0522d",mediumblue:"#0000cd",royalblue:"#4169e1",lightcyan:"#e0ffff",green:"#008000",mediumpurple:"#9370db",midnightblue:"#191970",cornsilk:"#fff8dc",paleturquoise:"#afeeee",bisque:"#ffe4c4",slategray:"#708090",darkcyan:"#008b8b",khaki:"#f0e68c",wheat:"#f5deb3",teal:"#008080",darkorchid:"#9932cc",deepskyblue:"#00bfff",salmon:"#fa8072",darkred:"#8b0000",steelblue:"#4682b4",palevioletred:"#db7093",lightslategray:"#778899",aliceblue:"#f0f8ff",lightslategrey:"#778899",lightgreen:"#90ee90",orchid:"#da70d6",gainsboro:"#dcdcdc",mediumseagreen:"#3cb371",lightgray:"#d3d3d3",mediumturquoise:"#48d1cc",lemonchiffon:"#fffacd",cadetblue:"#5f9ea0",lightyellow:"#ffffe0",lavenderblush:"#fff0f5",coral:"#ff7f50",purple:"#800080",aqua:"#00ffff",whitesmoke:"#f5f5f5",mediumslateblue:"#7b68ee",darkorange:"#ff8c00",mediumaquamarine:"#66cdaa",darksalmon:"#e9967a",beige:"#f5f5dc",blueviolet:"#8a2be2",azure:"#f0ffff",lightsteelblue:"#b0c4de",oldlace:"#fdf5e6"},D=function(){var t,e,i,n,r;for(t={},r="Boolean Number String Function Array Date RegExp Undefined Null".split(" "),i=0,n=r.length;n>i;i++)e=r[i],t["[object "+e+"]"]=e.toLowerCase();return function(e){var i;return i=Object.prototype.toString.call(e),t[i]||"object"}}(),S=function(t,e,i){return null==e&&(e=0),null==i&&(i=1),e>t&&(t=e),t>i&&(t=i),t},N=function(t){return t.length>=3?t:t[0]},s=2*Math.PI,o=Math.PI/3,y=Math.cos,c=function(t){var e,i,n,r,o,s,a,f,u,h,d;return t=function(){var e,i,n;for(n=[],e=0,i=t.length;i>e;e++)r=t[e],n.push(l(r));return n}(),2===t.length?(u=function(){var e,i,n;for(n=[],e=0,i=t.length;i>e;e++)r=t[e],n.push(r.lab());return n}(),o=u[0],s=u[1],e=function(t){var e,i;return i=function(){var i,n;for(n=[],e=i=0;2>=i;e=++i)n.push(o[e]+t*(s[e]-o[e]));return n}(),l.lab.apply(l,i)}):3===t.length?(h=function(){var e,i,n;for(n=[],e=0,i=t.length;i>e;e++)r=t[e],n.push(r.lab());return n}(),o=h[0],s=h[1],a=h[2],e=function(t){var e,i;return i=function(){var i,n;for(n=[],e=i=0;2>=i;e=++i)n.push((1-t)*(1-t)*o[e]+2*(1-t)*t*s[e]+t*t*a[e]);return n}(),l.lab.apply(l,i)}):4===t.length?(d=function(){var e,i,n;for(n=[],e=0,i=t.length;i>e;e++)r=t[e],n.push(r.lab());return n}(),o=d[0],s=d[1],a=d[2],f=d[3],e=function(t){var e,i;return i=function(){var i,n;for(n=[],e=i=0;2>=i;e=++i)n.push((1-t)*(1-t)*(1-t)*o[e]+3*(1-t)*(1-t)*t*s[e]+3*(1-t)*t*t*a[e]+t*t*t*f[e]);return n}(),l.lab.apply(l,i);

}):5===t.length&&(i=c(t.slice(0,3)),n=c(t.slice(2,5)),e=function(t){return.5>t?i(2*t):n(2*(t-.5))}),e},l.interpolate.bezier=c}).call(this)},{}],"/Users/qrohlf/Projects/trianglify/node_modules/delaunay-fast/delaunay.js":[function(t,e){var i;!function(){"use strict";function t(t){var e,i,n,r,o,s,a=Number.POSITIVE_INFINITY,f=Number.POSITIVE_INFINITY,u=Number.NEGATIVE_INFINITY,c=Number.NEGATIVE_INFINITY;for(e=t.length;e--;)t[e][0]<a&&(a=t[e][0]),t[e][0]>u&&(u=t[e][0]),t[e][1]<f&&(f=t[e][1]),t[e][1]>c&&(c=t[e][1]);return i=u-a,n=c-f,r=Math.max(i,n),o=a+.5*i,s=f+.5*n,[[o-20*r,s-r],[o,s+20*r],[o+20*r,s-r]]}function n(t,e,i,n){var r,s,a,f,u,c,h,l,d,p,y=t[e][0],m=t[e][1],g=t[i][0],b=t[i][1],v=t[n][0],_=t[n][1],w=Math.abs(m-b),x=Math.abs(b-_);if(o>w&&o>x)throw new Error("Eek! Coincident points!");return o>w?(f=-((v-g)/(_-b)),c=(g+v)/2,l=(b+_)/2,r=(g+y)/2,s=f*(r-c)+l):o>x?(a=-((g-y)/(b-m)),u=(y+g)/2,h=(m+b)/2,r=(v+g)/2,s=a*(r-u)+h):(a=-((g-y)/(b-m)),f=-((v-g)/(_-b)),u=(y+g)/2,c=(g+v)/2,h=(m+b)/2,l=(b+_)/2,r=(a*u-f*c+l-h)/(a-f),s=w>x?a*(r-u)+h:f*(r-c)+l),d=g-r,p=b-s,{i:e,j:i,k:n,x:r,y:s,r:d*d+p*p}}function r(t){var e,i,n,r,o,s;for(i=t.length;i;)for(r=t[--i],n=t[--i],e=i;e;)if(s=t[--e],o=t[--e],n===o&&r===s||n===s&&r===o){t.splice(i,2),t.splice(e,2);break}}var o=1/1048576;i={triangulate:function(e,i){var s,a,f,u,c,h,l,d,p,y,m,g,b=e.length;if(3>b)return[];if(e=e.slice(0),i)for(s=b;s--;)e[s]=e[s][i];for(f=new Array(b),s=b;s--;)f[s]=s;for(f.sort(function(t,i){return e[i][0]-e[t][0]}),u=t(e),e.push(u[0],u[1],u[2]),c=[n(e,b+0,b+1,b+2)],h=[],l=[],s=f.length;s--;l.length=0){for(g=f[s],a=c.length;a--;)d=e[g][0]-c[a].x,d>0&&d*d>c[a].r?(h.push(c[a]),c.splice(a,1)):(p=e[g][1]-c[a].y,d*d+p*p-c[a].r>o||(l.push(c[a].i,c[a].j,c[a].j,c[a].k,c[a].k,c[a].i),c.splice(a,1)));for(r(l),a=l.length;a;)m=l[--a],y=l[--a],c.push(n(e,y,m,g))}for(s=c.length;s--;)h.push(c[s]);for(c.length=0,s=h.length;s--;)h[s].i<b&&h[s].j<b&&h[s].k<b&&c.push(h[s].i,h[s].j,h[s].k);return c},contains:function(t,e){if(e[0]<t[0][0]&&e[0]<t[1][0]&&e[0]<t[2][0]||e[0]>t[0][0]&&e[0]>t[1][0]&&e[0]>t[2][0]||e[1]<t[0][1]&&e[1]<t[1][1]&&e[1]<t[2][1]||e[1]>t[0][1]&&e[1]>t[1][1]&&e[1]>t[2][1])return null;var i=t[1][0]-t[0][0],n=t[2][0]-t[0][0],r=t[1][1]-t[0][1],o=t[2][1]-t[0][1],s=i*o-n*r;if(0===s)return null;var a=(o*(e[0]-t[0][0])-n*(e[1]-t[0][1]))/s,f=(i*(e[1]-t[0][1])-r*(e[0]-t[0][0]))/s;return 0>a||0>f||a+f>1?null:[a,f]}},"undefined"!=typeof e&&(e.exports=i)}()},{}],"/Users/qrohlf/Projects/trianglify/node_modules/seedrandom/seedrandom.js":[function(e,i){!function(t,i,n,r,o,s,a,f,u){function c(t){var e,i=t.length,n=this,o=0,s=n.i=n.j=0,a=n.S=[];for(i||(t=[i++]);r>o;)a[o]=o++;for(o=0;r>o;o++)a[o]=a[s=_&s+t[o%i]+(e=a[o])],a[s]=e;(n.g=function(t){for(var e,i=0,o=n.i,s=n.j,a=n.S;t--;)e=a[o=_&o+1],i=i*r+a[_&(a[o]=a[s=_&s+e])+(a[s]=e)];return n.i=o,n.j=s,i})(r)}function h(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function l(t,e){var i,n=[],r=typeof t;if(e&&"object"==r)for(i in t)try{n.push(l(t[i],e-1))}catch(o){}return n.length?n:"string"==r?t:t+"\x00"}function d(t,e){for(var i,n=t+"",r=0;r<n.length;)e[_&r]=_&(i^=19*e[_&r])+n.charCodeAt(r++);return y(e)}function p(e){try{return m?y(m.randomBytes(r)):(t.crypto.getRandomValues(e=new Uint8Array(r)),y(e))}catch(n){return[+new Date,t,(e=t.navigator)&&e.plugins,t.screen,y(i)]}}function y(t){return String.fromCharCode.apply(0,t)}var m,g=n.pow(r,o),b=n.pow(2,s),v=2*b,_=r-1,w=n["seed"+u]=function(t,e,s){var a=[];e=1==e?{entropy:!0}:e||{};var f=d(l(e.entropy?[t,y(i)]:null==t?p():t,3),a),m=new c(a);return d(y(m.S),i),(e.pass||s||function(t,e,i,r){return r&&(r.S&&h(r,m),t.state=function(){return h(m,{})}),i?(n[u]=t,e):t})(function(){for(var t=m.g(o),e=g,i=0;b>t;)t=(t+i)*r,e*=r,i=m.g(1);for(;t>=v;)t/=2,e/=2,i>>>=1;return(t+i)/e},f,"global"in e?e.global:this==n,e.state)};if(d(n[u](),i),a&&a.exports){a.exports=w;try{m=e("crypto")}catch(x){}}else f&&f.amd&&f(function(){return w})}(this,[],Math,256,6,52,"object"==typeof i&&i,"function"==typeof t&&t,"random")},{crypto:!1}]},{},["./lib/trianglify.js"])("./lib/trianglify.js")}),!function(t){function e(){}function i(t){function i(e){e.prototype.option||(e.prototype.option=function(e){t.isPlainObject(e)&&(this.options=t.extend(!0,this.options,e))})}function r(e,i){t.fn[e]=function(r){if("string"==typeof r){for(var s=n.call(arguments,1),a=0,f=this.length;f>a;a++){var u=this[a],c=t.data(u,e);if(c)if(t.isFunction(c[r])&&"_"!==r.charAt(0)){var h=c[r].apply(c,s);if(void 0!==h)return h}else o("no such method '"+r+"' for "+e+" instance");else o("cannot call methods on "+e+" prior to initialization; attempted to call '"+r+"'")}return this}return this.each(function(){var n=t.data(this,e);n?(n.option(r),n._init()):(n=new i(this,r),t.data(this,e,n))})}}if(t){var o="undefined"==typeof console?e:function(t){console.error(t)};return t.bridget=function(t,e){i(e),r(t,e)},t.bridget}}var n=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],i):i("object"==typeof exports?require("jquery"):t.jQuery)}(window),function(t){function e(e){var i=t.event;return i.target=i.target||i.srcElement||e,i}var i=document.documentElement,n=function(){};i.addEventListener?n=function(t,e,i){t.addEventListener(e,i,!1)}:i.attachEvent&&(n=function(t,i,n){t[i+n]=n.handleEvent?function(){var i=e(t);n.handleEvent.call(n,i)}:function(){var i=e(t);n.call(t,i)},t.attachEvent("on"+i,t[i+n])});var r=function(){};i.removeEventListener?r=function(t,e,i){t.removeEventListener(e,i,!1)}:i.detachEvent&&(r=function(t,e,i){t.detachEvent("on"+e,t[e+i]);try{delete t[e+i]}catch(n){t[e+i]=void 0}});var o={bind:n,unbind:r};"function"==typeof define&&define.amd?define("eventie/eventie",o):"object"==typeof exports?module.exports=o:t.eventie=o}(window),function(){"use strict";function t(){}function e(t,e){for(var i=t.length;i--;)if(t[i].listener===e)return i;return-1}function i(t){return function(){return this[t].apply(this,arguments)}}var n=t.prototype,r=this,o=r.EventEmitter;n.getListeners=function(t){var e,i,n=this._getEvents();if(t instanceof RegExp){e={};for(i in n)n.hasOwnProperty(i)&&t.test(i)&&(e[i]=n[i])}else e=n[t]||(n[t]=[]);return e},n.flattenListeners=function(t){var e,i=[];for(e=0;e<t.length;e+=1)i.push(t[e].listener);return i},n.getListenersAsObject=function(t){var e,i=this.getListeners(t);return i instanceof Array&&(e={},e[t]=i),e||i},n.addListener=function(t,i){var n,r=this.getListenersAsObject(t),o="object"==typeof i;for(n in r)r.hasOwnProperty(n)&&-1===e(r[n],i)&&r[n].push(o?i:{listener:i,once:!1});return this},n.on=i("addListener"),n.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},n.once=i("addOnceListener"),n.defineEvent=function(t){return this.getListeners(t),this},n.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},n.removeListener=function(t,i){var n,r,o=this.getListenersAsObject(t);for(r in o)o.hasOwnProperty(r)&&(n=e(o[r],i),-1!==n&&o[r].splice(n,1));return this},n.off=i("removeListener"),n.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},n.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},n.manipulateListeners=function(t,e,i){var n,r,o=t?this.removeListener:this.addListener,s=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(n=i.length;n--;)o.call(this,e,i[n]);else for(n in e)e.hasOwnProperty(n)&&(r=e[n])&&("function"==typeof r?o.call(this,n,r):s.call(this,n,r));return this},n.removeEvent=function(t){var e,i=typeof t,n=this._getEvents();if("string"===i)delete n[t];else if(t instanceof RegExp)for(e in n)n.hasOwnProperty(e)&&t.test(e)&&delete n[e];else delete this._events;return this},n.removeAllListeners=i("removeEvent"),n.emitEvent=function(t,e){var i,n,r,o,s=this.getListenersAsObject(t);for(r in s)if(s.hasOwnProperty(r))for(n=s[r].length;n--;)i=s[r][n],i.once===!0&&this.removeListener(t,i.listener),o=i.listener.apply(this,e||[]),o===this._getOnceReturnValue()&&this.removeListener(t,i.listener);return this},n.trigger=i("emitEvent"),n.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},n.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},n._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},n._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return r.EventEmitter=o,t},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return t}):"object"==typeof module&&module.exports?module.exports=t:r.EventEmitter=t}.call(this),function(t){function e(t){if(t){if("string"==typeof n[t])return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var e,r=0,o=i.length;o>r;r++)if(e=i[r]+t,"string"==typeof n[e])return e}}var i="Webkit Moz ms Ms O".split(" "),n=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return e}):"object"==typeof exports?module.exports=e:t.getStyleProperty=e}(window),function(t,e){function i(t){var e=parseFloat(t),i=-1===t.indexOf("%")&&!isNaN(e);return i&&e}function n(){}function r(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0,i=a.length;i>e;e++){var n=a[e];t[n]=0}return t}function o(e){function n(){if(!l){l=!0;var n=t.getComputedStyle;if(u=function(){var t=n?function(t){return n(t,null)}:function(t){return t.currentStyle};return function(e){var i=t(e);return i||s("Style returned "+i+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),i}}(),c=e("boxSizing")){var r=document.createElement("div");r.style.width="200px",r.style.padding="1px 2px 3px 4px",r.style.borderStyle="solid",r.style.borderWidth="1px 2px 3px 4px",r.style[c]="border-box";var o=document.body||document.documentElement;o.appendChild(r);var a=u(r);h=200===i(a.width),o.removeChild(r)}}}function o(t){if(n(),"string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var e=u(t);if("none"===e.display)return r();var o={};o.width=t.offsetWidth,o.height=t.offsetHeight;for(var s=o.isBorderBox=!(!c||!e[c]||"border-box"!==e[c]),l=0,d=a.length;d>l;l++){var p=a[l],y=e[p];y=f(t,y);var m=parseFloat(y);o[p]=isNaN(m)?0:m}var g=o.paddingLeft+o.paddingRight,b=o.paddingTop+o.paddingBottom,v=o.marginLeft+o.marginRight,_=o.marginTop+o.marginBottom,w=o.borderLeftWidth+o.borderRightWidth,x=o.borderTopWidth+o.borderBottomWidth,I=s&&h,z=i(e.width);z!==!1&&(o.width=z+(I?0:g+w));var E=i(e.height);return E!==!1&&(o.height=E+(I?0:b+x)),o.innerWidth=o.width-(g+w),o.innerHeight=o.height-(b+x),o.outerWidth=o.width+v,o.outerHeight=o.height+_,o}}function f(e,i){if(t.getComputedStyle||-1===i.indexOf("%"))return i;var n=e.style,r=n.left,o=e.runtimeStyle,s=o&&o.left;return s&&(o.left=e.currentStyle.left),n.left=i,i=n.pixelLeft,n.left=r,s&&(o.left=s),i}var u,c,h,l=!1;return o}var s="undefined"==typeof console?n:function(t){console.error(t)},a=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],o):"object"==typeof exports?module.exports=o(require("desandro-get-style-property")):t.getSize=o(t.getStyleProperty)}(window),function(t){function e(t){"function"==typeof t&&(e.isReady?t():s.push(t))}function i(t){var i="readystatechange"===t.type&&"complete"!==o.readyState;e.isReady||i||n()}function n(){e.isReady=!0;for(var t=0,i=s.length;i>t;t++){var n=s[t];n()}}function r(r){return"complete"===o.readyState?n():(r.bind(o,"DOMContentLoaded",i),r.bind(o,"readystatechange",i),r.bind(t,"load",i)),e}var o=t.document,s=[];e.isReady=!1,"function"==typeof define&&define.amd?define("doc-ready/doc-ready",["eventie/eventie"],r):"object"==typeof exports?module.exports=r(require("eventie")):t.docReady=r(t.eventie)}(window),function(t){"use strict";function e(t,e){return t[s](e)}function i(t){if(!t.parentNode){var e=document.createDocumentFragment();e.appendChild(t)}}function n(t,e){i(t);for(var n=t.parentNode.querySelectorAll(e),r=0,o=n.length;o>r;r++)if(n[r]===t)return!0;return!1}function r(t,n){return i(t),e(t,n)}var o,s=function(){if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0,n=e.length;n>i;i++){var r=e[i],o=r+"MatchesSelector";if(t[o])return o}}();if(s){var a=document.createElement("div"),f=e(a,"div");o=f?e:r}else o=n;"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return o}):"object"==typeof exports?module.exports=o:window.matchesSelector=o}(Element.prototype),function(t,e){"use strict";"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["doc-ready/doc-ready","matches-selector/matches-selector"],function(i,n){return e(t,i,n)}):"object"==typeof exports?module.exports=e(t,require("doc-ready"),require("desandro-matches-selector")):t.fizzyUIUtils=e(t,t.docReady,t.matchesSelector)}(window,function(t,e,i){var n={};n.extend=function(t,e){for(var i in e)t[i]=e[i];return t},n.modulo=function(t,e){return(t%e+e)%e};var r=Object.prototype.toString;n.isArray=function(t){return"[object Array]"==r.call(t)},n.makeArray=function(t){var e=[];if(n.isArray(t))e=t;else if(t&&"number"==typeof t.length)for(var i=0,r=t.length;r>i;i++)e.push(t[i]);else e.push(t);return e},n.indexOf=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return i;return-1},n.removeFrom=function(t,e){var i=n.indexOf(t,e);-1!=i&&t.splice(i,1)},n.isElement="function"==typeof HTMLElement||"object"==typeof HTMLElement?function(t){return t instanceof HTMLElement}:function(t){return t&&"object"==typeof t&&1==t.nodeType&&"string"==typeof t.nodeName},n.setText=function(){function t(t,i){e=e||(void 0!==document.documentElement.textContent?"textContent":"innerText"),t[e]=i}var e;return t}(),n.getParent=function(t,e){for(;t!=document.body;)if(t=t.parentNode,i(t,e))return t},n.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},n.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},n.filterFindElements=function(t,e){t=n.makeArray(t);for(var r=[],o=0,s=t.length;s>o;o++){var a=t[o];if(n.isElement(a))if(e){i(a,e)&&r.push(a);for(var f=a.querySelectorAll(e),u=0,c=f.length;c>u;u++)r.push(f[u])}else r.push(a)}return r},n.debounceMethod=function(t,e,i){var n=t.prototype[e],r=e+"Timeout";t.prototype[e]=function(){var t=this[r];t&&clearTimeout(t);var e=arguments,o=this;this[r]=setTimeout(function(){n.apply(o,e),delete o[r]},i||100)}},n.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()};var o=t.console;return n.htmlInit=function(i,r){e(function(){for(var e=n.toDashed(r),s=document.querySelectorAll(".js-"+e),a="data-"+e+"-options",f=0,u=s.length;u>f;f++){var c,h=s[f],l=h.getAttribute(a);try{c=l&&JSON.parse(l)}catch(d){o&&o.error("Error parsing "+a+" on "+h.nodeName.toLowerCase()+(h.id?"#"+h.id:"")+": "+d);continue}var p=new i(h,c),y=t.jQuery;y&&y.data(h,r,p)}})},n}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property","fizzy-ui-utils/utils"],function(i,n,r,o){return e(t,i,n,r,o)}):"object"==typeof exports?module.exports=e(t,require("wolfy87-eventemitter"),require("get-size"),require("desandro-get-style-property"),require("fizzy-ui-utils")):(t.Outlayer={},t.Outlayer.Item=e(t,t.EventEmitter,t.getSize,t.getStyleProperty,t.fizzyUIUtils))}(window,function(t,e,i,n,r){"use strict";function o(t){for(var e in t)return!1;return e=null,!0}function s(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}function a(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}var f=t.getComputedStyle,u=f?function(t){return f(t,null)}:function(t){return t.currentStyle},c=n("transition"),h=n("transform"),l=c&&h,d=!!n("perspective"),p={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[c],y=["transform","transition","transitionDuration","transitionProperty"],m=function(){for(var t={},e=0,i=y.length;i>e;e++){var r=y[e],o=n(r);o&&o!==r&&(t[r]=o)}return t}();r.extend(s.prototype,e.prototype),s.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},s.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},s.prototype.getSize=function(){this.size=i(this.element)},s.prototype.css=function(t){var e=this.element.style;for(var i in t){var n=m[i]||i;e[n]=t[i]}},s.prototype.getPosition=function(){var t=u(this.element),e=this.layout.options,i=e.isOriginLeft,n=e.isOriginTop,r=t[i?"left":"right"],o=t[n?"top":"bottom"],s=this.layout.size,a=-1!=r.indexOf("%")?parseFloat(r)/100*s.width:parseInt(r,10),f=-1!=o.indexOf("%")?parseFloat(o)/100*s.height:parseInt(o,10);a=isNaN(a)?0:a,f=isNaN(f)?0:f,a-=i?s.paddingLeft:s.paddingRight,f-=n?s.paddingTop:s.paddingBottom,this.position.x=a,this.position.y=f},s.prototype.layoutPosition=function(){var t=this.layout.size,e=this.layout.options,i={},n=e.isOriginLeft?"paddingLeft":"paddingRight",r=e.isOriginLeft?"left":"right",o=e.isOriginLeft?"right":"left",s=this.position.x+t[n];i[r]=this.getXValue(s),i[o]="";var a=e.isOriginTop?"paddingTop":"paddingBottom",f=e.isOriginTop?"top":"bottom",u=e.isOriginTop?"bottom":"top",c=this.position.y+t[a];i[f]=this.getYValue(c),i[u]="",this.css(i),this.emitEvent("layout",[this])},s.prototype.getXValue=function(t){var e=this.layout.options;return e.percentPosition&&!e.isHorizontal?t/this.layout.size.width*100+"%":t+"px"},s.prototype.getYValue=function(t){var e=this.layout.options;return e.percentPosition&&e.isHorizontal?t/this.layout.size.height*100+"%":t+"px"},s.prototype._transitionTo=function(t,e){this.getPosition();var i=this.position.x,n=this.position.y,r=parseInt(t,10),o=parseInt(e,10),s=r===this.position.x&&o===this.position.y;if(this.setPosition(t,e),s&&!this.isTransitioning)return void this.layoutPosition();var a=t-i,f=e-n,u={};u.transform=this.getTranslate(a,f),this.transition({to:u,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},s.prototype.getTranslate=function(t,e){var i=this.layout.options;return t=i.isOriginLeft?t:-t,e=i.isOriginTop?e:-e,d?"translate3d("+t+"px, "+e+"px, 0)":"translate("+t+"px, "+e+"px)"},s.prototype.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},s.prototype.moveTo=l?s.prototype._transitionTo:s.prototype.goTo,s.prototype.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10)},s.prototype._nonTransition=function(t){this.css(t.to),t.isCleaning&&this._removeStyles(t.to);for(var e in t.onTransitionEnd)t.onTransitionEnd[e].call(this)},s.prototype._transition=function(t){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(t);var e=this._transn;for(var i in t.onTransitionEnd)e.onEnd[i]=t.onTransitionEnd[i];for(i in t.to)e.ingProperties[i]=!0,t.isCleaning&&(e.clean[i]=!0);if(t.from){this.css(t.from);var n=this.element.offsetHeight;n=null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0};var g="opacity,"+a(m.transform||"transform");s.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:g,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(p,this,!1))},s.prototype.transition=s.prototype[c?"_transition":"_nonTransition"],s.prototype.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},s.prototype.onotransitionend=function(t){this.ontransitionend(t)};var b={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};s.prototype.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,i=b[t.propertyName]||t.propertyName;if(delete e.ingProperties[i],o(e.ingProperties)&&this.disableTransition(),i in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[i]),i in e.onEnd){var n=e.onEnd[i];n.call(this),delete e.onEnd[i]}this.emitEvent("transitionEnd",[this])}},s.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(p,this,!1),this.isTransitioning=!1},s.prototype._removeStyles=function(t){var e={};for(var i in t)e[i]="";this.css(e)};var v={transitionProperty:"",transitionDuration:""};return s.prototype.removeTransitionStyles=function(){this.css(v)},s.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},s.prototype.remove=function(){if(!c||!parseFloat(this.layout.options.transitionDuration))return void this.removeElem();var t=this;this.once("transitionEnd",function(){t.removeElem()}),this.hide()},s.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options,e={},i=this.getHideRevealTransitionEndProperty("visibleStyle");e[i]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:e})},s.prototype.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},s.prototype.getHideRevealTransitionEndProperty=function(t){var e=this.layout.options[t];if(e.opacity)return"opacity";for(var i in e)return i},s.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options,e={},i=this.getHideRevealTransitionEndProperty("hiddenStyle");e[i]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:e})},s.prototype.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},s.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},s}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","eventEmitter/EventEmitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(i,n,r,o,s){return e(t,i,n,r,o,s)}):"object"==typeof exports?module.exports=e(t,require("eventie"),require("wolfy87-eventemitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):t.Outlayer=e(t,t.eventie,t.EventEmitter,t.getSize,t.fizzyUIUtils,t.Outlayer.Item)}(window,function(t,e,i,n,r,o){"use strict";function s(t,e){var i=r.getQueryElement(t);if(!i)return void(a&&a.error("Bad element for "+this.constructor.namespace+": "+(i||t)));this.element=i,f&&(this.$element=f(this.element)),this.options=r.extend({},this.constructor.defaults),this.option(e);var n=++c;this.element.outlayerGUID=n,h[n]=this,this._create(),this.options.isInitLayout&&this.layout()}var a=t.console,f=t.jQuery,u=function(){},c=0,h={};return s.namespace="outlayer",s.Item=o,s.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},r.extend(s.prototype,i.prototype),s.prototype.option=function(t){r.extend(this.options,t)},s.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),r.extend(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},s.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},s.prototype._itemize=function(t){for(var e=this._filterFindItemElements(t),i=this.constructor.Item,n=[],r=0,o=e.length;o>r;r++){var s=e[r],a=new i(s,this);n.push(a)}return n},s.prototype._filterFindItemElements=function(t){return r.filterFindElements(t,this.options.itemSelector)},s.prototype.getItemElements=function(){for(var t=[],e=0,i=this.items.length;i>e;e++)t.push(this.items[e].element);return t},s.prototype.layout=function(){this._resetLayout(),this._manageStamps();var t=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},s.prototype._init=s.prototype.layout,s.prototype._resetLayout=function(){this.getSize()},s.prototype.getSize=function(){this.size=n(this.element)},s.prototype._getMeasurement=function(t,e){var i,o=this.options[t];o?("string"==typeof o?i=this.element.querySelector(o):r.isElement(o)&&(i=o),this[t]=i?n(i)[e]:o):this[t]=0},s.prototype.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},s.prototype._getItemsForLayout=function(t){for(var e=[],i=0,n=t.length;n>i;i++){var r=t[i];r.isIgnored||e.push(r)}return e},s.prototype._layoutItems=function(t,e){if(this._emitCompleteOnItems("layout",t),t&&t.length){for(var i=[],n=0,r=t.length;r>n;n++){var o=t[n],s=this._getItemLayoutPosition(o);s.item=o,s.isInstant=e||o.isLayoutInstant,i.push(s)}this._processLayoutQueue(i)}},s.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},s.prototype._processLayoutQueue=function(t){for(var e=0,i=t.length;i>e;e++){var n=t[e];this._positionItem(n.item,n.x,n.y,n.isInstant)}},s.prototype._positionItem=function(t,e,i,n){n?t.goTo(e,i):t.moveTo(e,i)},s.prototype._postLayout=function(){this.resizeContainer()},s.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))}},s.prototype._getContainerSize=u,s.prototype._setContainerMeasure=function(t,e){if(void 0!==t){var i=this.size;i.isBorderBox&&(t+=e?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},s.prototype._emitCompleteOnItems=function(t,e){function i(){r.dispatchEvent(t+"Complete",null,[e])}function n(){s++,s===o&&i()}var r=this,o=e.length;if(!e||!o)return void i();for(var s=0,a=0,f=e.length;f>a;a++){var u=e[a];u.once(t,n)}},s.prototype.dispatchEvent=function(t,e,i){var n=e?[e].concat(i):i;if(this.emitEvent(t,n),f)if(this.$element=this.$element||f(this.element),e){var r=f.Event(e);r.type=t,this.$element.trigger(r,i)}else this.$element.trigger(t,i)},s.prototype.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},s.prototype.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},s.prototype.stamp=function(t){if(t=this._find(t)){this.stamps=this.stamps.concat(t);for(var e=0,i=t.length;i>e;e++){var n=t[e];this.ignore(n)}}},s.prototype.unstamp=function(t){if(t=this._find(t))for(var e=0,i=t.length;i>e;e++){var n=t[e];r.removeFrom(this.stamps,n),this.unignore(n)}},s.prototype._find=function(t){return t?("string"==typeof t&&(t=this.element.querySelectorAll(t)),t=r.makeArray(t)):void 0},s.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var t=0,e=this.stamps.length;e>t;t++){var i=this.stamps[t];this._manageStamp(i)}}},s.prototype._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},s.prototype._manageStamp=u,s.prototype._getElementOffset=function(t){var e=t.getBoundingClientRect(),i=this._boundingRect,r=n(t),o={left:e.left-i.left-r.marginLeft,top:e.top-i.top-r.marginTop,right:i.right-e.right-r.marginRight,bottom:i.bottom-e.bottom-r.marginBottom};return o},s.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},s.prototype.bindResize=function(){this.isResizeBound||(e.bind(t,"resize",this),this.isResizeBound=!0)},s.prototype.unbindResize=function(){this.isResizeBound&&e.unbind(t,"resize",this),this.isResizeBound=!1},s.prototype.onresize=function(){function t(){e.resize(),delete e.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var e=this;this.resizeTimeout=setTimeout(t,100)},s.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},s.prototype.needsResizeLayout=function(){var t=n(this.element),e=this.size&&t;return e&&t.innerWidth!==this.size.innerWidth},s.prototype.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},s.prototype.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},s.prototype.prepended=function(t){var e=this._itemize(t);if(e.length){var i=this.items.slice(0);this.items=e.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(i)}},s.prototype.reveal=function(t){this._emitCompleteOnItems("reveal",t);for(var e=t&&t.length,i=0;e&&e>i;i++){var n=t[i];n.reveal()}},s.prototype.hide=function(t){this._emitCompleteOnItems("hide",t);for(var e=t&&t.length,i=0;e&&e>i;i++){var n=t[i];n.hide()}},s.prototype.revealItemElements=function(t){var e=this.getItems(t);this.reveal(e)},s.prototype.hideItemElements=function(t){var e=this.getItems(t);this.hide(e)},s.prototype.getItem=function(t){for(var e=0,i=this.items.length;i>e;e++){var n=this.items[e];if(n.element===t)return n}},s.prototype.getItems=function(t){t=r.makeArray(t);for(var e=[],i=0,n=t.length;n>i;i++){var o=t[i],s=this.getItem(o);s&&e.push(s)}return e},s.prototype.remove=function(t){var e=this.getItems(t);if(this._emitCompleteOnItems("remove",e),e&&e.length)for(var i=0,n=e.length;n>i;i++){var o=e[i];o.remove(),r.removeFrom(this.items,o)}},s.prototype.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="";for(var e=0,i=this.items.length;i>e;e++){var n=this.items[e];n.destroy()}this.unbindResize();var r=this.element.outlayerGUID;delete h[r],delete this.element.outlayerGUID,f&&f.removeData(this.element,this.constructor.namespace)},s.data=function(t){t=r.getQueryElement(t);var e=t&&t.outlayerGUID;return e&&h[e]},s.create=function(t,e){function i(){s.apply(this,arguments)}return Object.create?i.prototype=Object.create(s.prototype):r.extend(i.prototype,s.prototype),i.prototype.constructor=i,i.defaults=r.extend({},s.defaults),r.extend(i.defaults,e),i.prototype.settings={},i.namespace=t,i.data=s.data,i.Item=function(){o.apply(this,arguments)},i.Item.prototype=new o,r.htmlInit(i,t),f&&f.bridget&&f.bridget(t,i),i},s.Item=o,s}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("isotope/js/item",["outlayer/outlayer"],e):"object"==typeof exports?module.exports=e(require("outlayer")):(t.Isotope=t.Isotope||{},t.Isotope.Item=e(t.Outlayer))}(window,function(t){"use strict";function e(){t.Item.apply(this,arguments)}e.prototype=new t.Item,e.prototype._create=function(){this.id=this.layout.itemGUID++,t.Item.prototype._create.call(this),this.sortData={}},e.prototype.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var t=this.layout.options.getSortData,e=this.layout._sorters;for(var i in t){var n=e[i];this.sortData[i]=n(this.element,this)}}};var i=e.prototype.destroy;return e.prototype.destroy=function(){i.apply(this,arguments),this.css({display:""})},e}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("isotope/js/layout-mode",["get-size/get-size","outlayer/outlayer"],e):"object"==typeof exports?module.exports=e(require("get-size"),require("outlayer")):(t.Isotope=t.Isotope||{},t.Isotope.LayoutMode=e(t.getSize,t.Outlayer))}(window,function(t,e){"use strict";function i(t){this.isotope=t,t&&(this.options=t.options[this.namespace],this.element=t.element,this.items=t.filteredItems,this.size=t.size)}return function(){function t(t){return function(){return e.prototype[t].apply(this.isotope,arguments)}}for(var n=["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout"],r=0,o=n.length;o>r;r++){
var s=n[r];i.prototype[s]=t(s)}}(),i.prototype.needsVerticalResizeLayout=function(){var e=t(this.isotope.element),i=this.isotope.size&&e;return i&&e.innerHeight!=this.isotope.size.innerHeight},i.prototype._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},i.prototype.getColumnWidth=function(){this.getSegmentSize("column","Width")},i.prototype.getRowHeight=function(){this.getSegmentSize("row","Height")},i.prototype.getSegmentSize=function(t,e){var i=t+e,n="outer"+e;if(this._getMeasurement(i,n),!this[i]){var r=this.getFirstItemSize();this[i]=r&&r[n]||this.isotope.size["inner"+e]}},i.prototype.getFirstItemSize=function(){var e=this.isotope.filteredItems[0];return e&&e.element&&t(e.element)},i.prototype.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},i.prototype.getSize=function(){this.isotope.getSize(),this.size=this.isotope.size},i.modes={},i.create=function(t,e){function n(){i.apply(this,arguments)}return n.prototype=new i,e&&(n.options=e),n.prototype.namespace=t,i.modes[t]=n,n},i}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("masonry/masonry",["outlayer/outlayer","get-size/get-size","fizzy-ui-utils/utils"],e):"object"==typeof exports?module.exports=e(require("outlayer"),require("get-size"),require("fizzy-ui-utils")):t.Masonry=e(t.Outlayer,t.getSize,t.fizzyUIUtils)}(window,function(t,e,i){var n=t.create("masonry");return n.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var t=this.cols;for(this.colYs=[];t--;)this.colYs.push(0);this.maxY=0},n.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],i=t&&t.element;this.columnWidth=i&&e(i).outerWidth||this.containerWidth}var n=this.columnWidth+=this.gutter,r=this.containerWidth+this.gutter,o=r/n,s=n-r%n,a=s&&1>s?"round":"floor";o=Math[a](o),this.cols=Math.max(o,1)},n.prototype.getContainerWidth=function(){var t=this.options.isFitWidth?this.element.parentNode:this.element,i=e(t);this.containerWidth=i&&i.innerWidth},n.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,n=e&&1>e?"round":"ceil",r=Math[n](t.size.outerWidth/this.columnWidth);r=Math.min(r,this.cols);for(var o=this._getColGroup(r),s=Math.min.apply(Math,o),a=i.indexOf(o,s),f={x:this.columnWidth*a,y:s},u=s+t.size.outerHeight,c=this.cols+1-o.length,h=0;c>h;h++)this.colYs[a+h]=u;return f},n.prototype._getColGroup=function(t){if(2>t)return this.colYs;for(var e=[],i=this.cols+1-t,n=0;i>n;n++){var r=this.colYs.slice(n,n+t);e[n]=Math.max.apply(Math,r)}return e},n.prototype._manageStamp=function(t){var i=e(t),n=this._getElementOffset(t),r=this.options.isOriginLeft?n.left:n.right,o=r+i.outerWidth,s=Math.floor(r/this.columnWidth);s=Math.max(0,s);var a=Math.floor(o/this.columnWidth);a-=o%this.columnWidth?0:1,a=Math.min(this.cols-1,a);for(var f=(this.options.isOriginTop?n.top:n.bottom)+i.outerHeight,u=s;a>=u;u++)this.colYs[u]=Math.max(f,this.colYs[u])},n.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this.options.isFitWidth&&(t.width=this._getContainerFitWidth()),t},n.prototype._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},n.prototype.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!==this.containerWidth},n}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("isotope/js/layout-modes/masonry",["../layout-mode","masonry/masonry"],e):"object"==typeof exports?module.exports=e(require("../layout-mode"),require("masonry-layout")):e(t.Isotope.LayoutMode,t.Masonry)}(window,function(t,e){"use strict";function i(t,e){for(var i in e)t[i]=e[i];return t}var n=t.create("masonry"),r=n.prototype._getElementOffset,o=n.prototype.layout,s=n.prototype._getMeasurement;i(n.prototype,e.prototype),n.prototype._getElementOffset=r,n.prototype.layout=o,n.prototype._getMeasurement=s;var a=n.prototype.measureColumns;n.prototype.measureColumns=function(){this.items=this.isotope.filteredItems,a.call(this)};var f=n.prototype._manageStamp;return n.prototype._manageStamp=function(){this.options.isOriginLeft=this.isotope.options.isOriginLeft,this.options.isOriginTop=this.isotope.options.isOriginTop,f.apply(this,arguments)},n}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("isotope/js/layout-modes/fit-rows",["../layout-mode"],e):"object"==typeof exports?module.exports=e(require("../layout-mode")):e(t.Isotope.LayoutMode)}(window,function(t){"use strict";var e=t.create("fitRows");return e.prototype._resetLayout=function(){this.x=0,this.y=0,this.maxY=0,this._getMeasurement("gutter","outerWidth")},e.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth+this.gutter,i=this.isotope.size.innerWidth+this.gutter;0!==this.x&&e+this.x>i&&(this.x=0,this.y=this.maxY);var n={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+t.size.outerHeight),this.x+=e,n},e.prototype._getContainerSize=function(){return{height:this.maxY}},e}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("isotope/js/layout-modes/vertical",["../layout-mode"],e):"object"==typeof exports?module.exports=e(require("../layout-mode")):e(t.Isotope.LayoutMode)}(window,function(t){"use strict";var e=t.create("vertical",{horizontalAlignment:0});return e.prototype._resetLayout=function(){this.y=0},e.prototype._getItemLayoutPosition=function(t){t.getSize();var e=(this.isotope.size.innerWidth-t.size.outerWidth)*this.options.horizontalAlignment,i=this.y;return this.y+=t.size.outerHeight,{x:e,y:i}},e.prototype._getContainerSize=function(){return{height:this.y}},e}),function(t,e){"use strict";"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","matches-selector/matches-selector","fizzy-ui-utils/utils","isotope/js/item","isotope/js/layout-mode","isotope/js/layout-modes/masonry","isotope/js/layout-modes/fit-rows","isotope/js/layout-modes/vertical"],function(i,n,r,o,s,a){return e(t,i,n,r,o,s,a)}):"object"==typeof exports?module.exports=e(t,require("outlayer"),require("get-size"),require("desandro-matches-selector"),require("fizzy-ui-utils"),require("./item"),require("./layout-mode"),require("./layout-modes/masonry"),require("./layout-modes/fit-rows"),require("./layout-modes/vertical")):t.Isotope=e(t,t.Outlayer,t.getSize,t.matchesSelector,t.fizzyUIUtils,t.Isotope.Item,t.Isotope.LayoutMode)}(window,function(t,e,i,n,r,o,s){function a(t,e){return function(i,n){for(var r=0,o=t.length;o>r;r++){var s=t[r],a=i.sortData[s],f=n.sortData[s];if(a>f||f>a){var u=void 0!==e[s]?e[s]:e,c=u?1:-1;return(a>f?1:-1)*c}}return 0}}var f=t.jQuery,u=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^\s+|\s+$/g,"")},c=document.documentElement,h=c.textContent?function(t){return t.textContent}:function(t){return t.innerText},l=e.create("isotope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});l.Item=o,l.LayoutMode=s,l.prototype._create=function(){this.itemGUID=0,this._sorters={},this._getSorters(),e.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"];for(var t in s.modes)this._initLayoutMode(t)},l.prototype.reloadItems=function(){this.itemGUID=0,e.prototype.reloadItems.call(this)},l.prototype._itemize=function(){for(var t=e.prototype._itemize.apply(this,arguments),i=0,n=t.length;n>i;i++){var r=t[i];r.id=this.itemGUID++}return this._updateItemsSortData(t),t},l.prototype._initLayoutMode=function(t){var e=s.modes[t],i=this.options[t]||{};this.options[t]=e.options?r.extend(e.options,i):i,this.modes[t]=new e(this)},l.prototype.layout=function(){return!this._isLayoutInited&&this.options.isInitLayout?void this.arrange():void this._layout()},l.prototype._layout=function(){var t=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,t),this._isLayoutInited=!0},l.prototype.arrange=function(t){function e(){n.reveal(i.needReveal),n.hide(i.needHide)}this.option(t),this._getIsInstant();var i=this._filter(this.items);this.filteredItems=i.matches;var n=this;this._bindArrangeComplete(),this._isInstant?this._noTransition(e):e(),this._sort(),this._layout()},l.prototype._init=l.prototype.arrange,l.prototype._getIsInstant=function(){var t=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;return this._isInstant=t,t},l.prototype._bindArrangeComplete=function(){function t(){e&&i&&n&&r.dispatchEvent("arrangeComplete",null,[r.filteredItems])}var e,i,n,r=this;this.once("layoutComplete",function(){e=!0,t()}),this.once("hideComplete",function(){i=!0,t()}),this.once("revealComplete",function(){n=!0,t()})},l.prototype._filter=function(t){var e=this.options.filter;e=e||"*";for(var i=[],n=[],r=[],o=this._getFilterTest(e),s=0,a=t.length;a>s;s++){var f=t[s];if(!f.isIgnored){var u=o(f);u&&i.push(f),u&&f.isHidden?n.push(f):u||f.isHidden||r.push(f)}}return{matches:i,needReveal:n,needHide:r}},l.prototype._getFilterTest=function(t){return f&&this.options.isJQueryFiltering?function(e){return f(e.element).is(t)}:"function"==typeof t?function(e){return t(e.element)}:function(e){return n(e.element,t)}},l.prototype.updateSortData=function(t){var e;t?(t=r.makeArray(t),e=this.getItems(t)):e=this.items,this._getSorters(),this._updateItemsSortData(e)},l.prototype._getSorters=function(){var t=this.options.getSortData;for(var e in t){var i=t[e];this._sorters[e]=d(i)}},l.prototype._updateItemsSortData=function(t){for(var e=t&&t.length,i=0;e&&e>i;i++){var n=t[i];n.updateSortData()}};var d=function(){function t(t){if("string"!=typeof t)return t;var i=u(t).split(" "),n=i[0],r=n.match(/^\[(.+)\]$/),o=r&&r[1],s=e(o,n),a=l.sortDataParsers[i[1]];return t=a?function(t){return t&&a(s(t))}:function(t){return t&&s(t)}}function e(t,e){var i;return i=t?function(e){return e.getAttribute(t)}:function(t){var i=t.querySelector(e);return i&&h(i)}}return t}();l.sortDataParsers={parseInt:function(t){return parseInt(t,10)},parseFloat:function(t){return parseFloat(t)}},l.prototype._sort=function(){var t=this.options.sortBy;if(t){var e=[].concat.apply(t,this.sortHistory),i=a(e,this.options.sortAscending);this.filteredItems.sort(i),t!=this.sortHistory[0]&&this.sortHistory.unshift(t)}},l.prototype._mode=function(){var t=this.options.layoutMode,e=this.modes[t];if(!e)throw new Error("No layout mode: "+t);return e.options=this.options[t],e},l.prototype._resetLayout=function(){e.prototype._resetLayout.call(this),this._mode()._resetLayout()},l.prototype._getItemLayoutPosition=function(t){return this._mode()._getItemLayoutPosition(t)},l.prototype._manageStamp=function(t){this._mode()._manageStamp(t)},l.prototype._getContainerSize=function(){return this._mode()._getContainerSize()},l.prototype.needsResizeLayout=function(){return this._mode().needsResizeLayout()},l.prototype.appended=function(t){var e=this.addItems(t);if(e.length){var i=this._filterRevealAdded(e);this.filteredItems=this.filteredItems.concat(i)}},l.prototype.prepended=function(t){var e=this._itemize(t);if(e.length){this._resetLayout(),this._manageStamps();var i=this._filterRevealAdded(e);this.layoutItems(this.filteredItems),this.filteredItems=i.concat(this.filteredItems),this.items=e.concat(this.items)}},l.prototype._filterRevealAdded=function(t){var e=this._filter(t);return this.hide(e.needHide),this.reveal(e.matches),this.layoutItems(e.matches,!0),e.matches},l.prototype.insert=function(t){var e=this.addItems(t);if(e.length){var i,n,r=e.length;for(i=0;r>i;i++)n=e[i],this.element.appendChild(n.element);var o=this._filter(e).matches;for(i=0;r>i;i++)e[i].isLayoutInstant=!0;for(this.arrange(),i=0;r>i;i++)delete e[i].isLayoutInstant;this.reveal(o)}};var p=l.prototype.remove;return l.prototype.remove=function(t){t=r.makeArray(t);var e=this.getItems(t);p.call(this,t);var i=e&&e.length;if(i)for(var n=0;i>n;n++){var o=e[n];r.removeFrom(this.filteredItems,o)}},l.prototype.shuffle=function(){for(var t=0,e=this.items.length;e>t;t++){var i=this.items[t];i.sortData.random=Math.random()}this.options.sortBy="random",this._sort(),this._layout()},l.prototype._noTransition=function(t){var e=this.options.transitionDuration;this.options.transitionDuration=0;var i=t.call(this);return this.options.transitionDuration=e,i},l.prototype.getFilteredItemElements=function(){for(var t=[],e=0,i=this.filteredItems.length;i>e;e++)t.push(this.filteredItems[e].element);return t},l}),!function(t){function e(t){return new RegExp("(^|\\s+)"+t+"(\\s+|$)")}function i(t,e){var i=n(t,e)?o:r;i(t,e)}var n,r,o;"classList"in document.documentElement?(n=function(t,e){return t.classList.contains(e)},r=function(t,e){t.classList.add(e)},o=function(t,e){t.classList.remove(e)}):(n=function(t,i){return e(i).test(t.className)},r=function(t,e){n(t,e)||(t.className=t.className+" "+e)},o=function(t,i){t.className=t.className.replace(e(i)," ")});var s={hasClass:n,addClass:r,removeClass:o,toggleClass:i,has:n,add:r,remove:o,toggle:i};"function"==typeof define&&define.amd?define("classie/classie",s):"object"==typeof exports?module.exports=s:t.classie=s}(window),function(t,e){"function"==typeof define&&define.amd?define("packery/js/rect",e):"object"==typeof exports?module.exports=e():(t.Packery=t.Packery||{},t.Packery.Rect=e())}(window,function(){function t(e){for(var i in t.defaults)this[i]=t.defaults[i];for(i in e)this[i]=e[i]}var e=window.Packery=function(){};return e.Rect=t,t.defaults={x:0,y:0,width:0,height:0},t.prototype.contains=function(t){var e=t.width||0,i=t.height||0;return this.x<=t.x&&this.y<=t.y&&this.x+this.width>=t.x+e&&this.y+this.height>=t.y+i},t.prototype.overlaps=function(t){var e=this.x+this.width,i=this.y+this.height,n=t.x+t.width,r=t.y+t.height;return this.x<n&&e>t.x&&this.y<r&&i>t.y},t.prototype.getMaximalFreeRects=function(e){if(!this.overlaps(e))return!1;var i,n=[],r=this.x+this.width,o=this.y+this.height,s=e.x+e.width,a=e.y+e.height;return this.y<e.y&&(i=new t({x:this.x,y:this.y,width:this.width,height:e.y-this.y}),n.push(i)),r>s&&(i=new t({x:s,y:this.y,width:r-s,height:this.height}),n.push(i)),o>a&&(i=new t({x:this.x,y:a,width:this.width,height:o-a}),n.push(i)),this.x<e.x&&(i=new t({x:this.x,y:this.y,width:e.x-this.x,height:this.height}),n.push(i)),n},t.prototype.canFit=function(t){return this.width>=t.width&&this.height>=t.height},t}),function(t,e){if("function"==typeof define&&define.amd)define("packery/js/packer",["./rect"],e);else if("object"==typeof exports)module.exports=e(require("./rect"));else{var i=t.Packery=t.Packery||{};i.Packer=e(i.Rect)}}(window,function(t){function e(t,e,i){this.width=t||0,this.height=e||0,this.sortDirection=i||"downwardLeftToRight",this.reset()}e.prototype.reset=function(){this.spaces=[],this.newSpaces=[];var e=new t({x:0,y:0,width:this.width,height:this.height});this.spaces.push(e),this.sorter=i[this.sortDirection]||i.downwardLeftToRight},e.prototype.pack=function(t){for(var e=0,i=this.spaces.length;i>e;e++){var n=this.spaces[e];if(n.canFit(t)){this.placeInSpace(t,n);break}}},e.prototype.placeInSpace=function(t,e){t.x=e.x,t.y=e.y,this.placed(t)},e.prototype.placed=function(t){for(var e=[],i=0,n=this.spaces.length;n>i;i++){var r=this.spaces[i],o=r.getMaximalFreeRects(t);o?e.push.apply(e,o):e.push(r)}this.spaces=e,this.mergeSortSpaces()},e.prototype.mergeSortSpaces=function(){e.mergeRects(this.spaces),this.spaces.sort(this.sorter)},e.prototype.addSpace=function(t){this.spaces.push(t),this.mergeSortSpaces()},e.mergeRects=function(t){for(var e=0,i=t.length;i>e;e++){var n=t[e];if(n){var r=t.slice(0);r.splice(e,1);for(var o=0,s=0,a=r.length;a>s;s++){var f=r[s],u=e>s?0:1;n.contains(f)&&(t.splice(s+u-o,1),o++)}}}return t};var i={downwardLeftToRight:function(t,e){return t.y-e.y||t.x-e.x},rightwardTopToBottom:function(t,e){return t.x-e.x||t.y-e.y}};return e}),function(t,e){"function"==typeof define&&define.amd?define("packery/js/item",["get-style-property/get-style-property","outlayer/outlayer","./rect"],e):"object"==typeof exports?module.exports=e(require("desandro-get-style-property"),require("outlayer"),require("./rect")):t.Packery.Item=e(t.getStyleProperty,t.Outlayer,t.Packery.Rect)}(window,function(t,e,i){var n=t("transform"),r=function(){e.Item.apply(this,arguments)};r.prototype=new e.Item;var o=r.prototype._create;return r.prototype._create=function(){o.call(this),this.rect=new i,this.placeRect=new i},r.prototype.dragStart=function(){this.getPosition(),this.removeTransitionStyles(),this.isTransitioning&&n&&(this.element.style[n]="none"),this.getSize(),this.isPlacing=!0,this.needsPositioning=!1,this.positionPlaceRect(this.position.x,this.position.y),this.isTransitioning=!1,this.didDrag=!1},r.prototype.dragMove=function(t,e){this.didDrag=!0;var i=this.layout.size;t-=i.paddingLeft,e-=i.paddingTop,this.positionPlaceRect(t,e)},r.prototype.dragStop=function(){this.getPosition();var t=this.position.x!=this.placeRect.x,e=this.position.y!=this.placeRect.y;this.needsPositioning=t||e,this.didDrag=!1},r.prototype.positionPlaceRect=function(t,e,i){this.placeRect.x=this.getPlaceRectCoord(t,!0),this.placeRect.y=this.getPlaceRectCoord(e,!1,i)},r.prototype.getPlaceRectCoord=function(t,e,i){var n=e?"Width":"Height",r=this.size["outer"+n],o=this.layout[e?"columnWidth":"rowHeight"],s=this.layout.size["inner"+n];e||(s=Math.max(s,this.layout.maxY),this.layout.rowHeight||(s-=this.layout.gutter));var a;if(o){o+=this.layout.gutter,s+=e?this.layout.gutter:0,t=Math.round(t/o);var f;f=this.layout.options.isHorizontal?e?"ceil":"floor":e?"floor":"ceil";var u=Math[f](s/o);u-=Math.ceil(r/o),a=u}else a=s-r;return t=i?t:Math.min(t,a),t*=o||1,Math.max(0,t)},r.prototype.copyPlaceRectPosition=function(){this.rect.x=this.placeRect.x,this.rect.y=this.placeRect.y},r.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.layout.packer.addSpace(this.rect),this.emitEvent("remove",[this])},r}),function(t,e){"function"==typeof define&&define.amd?define("packery/js/packery",["classie/classie","get-size/get-size","outlayer/outlayer","./rect","./packer","./item"],e):"object"==typeof exports?module.exports=e(require("desandro-classie"),require("get-size"),require("outlayer"),require("./rect"),require("./packer"),require("./item")):t.Packery=e(t.classie,t.getSize,t.Outlayer,t.Packery.Rect,t.Packery.Packer,t.Packery.Item)}(window,function(t,e,i,n,r,o){function s(t,e){return t.position.y-e.position.y||t.position.x-e.position.x}function a(t,e){return t.position.x-e.position.x||t.position.y-e.position.y}n.prototype.canFit=function(t){return this.width>=t.width-1&&this.height>=t.height-1};var f=i.create("packery");return f.Item=o,f.prototype._create=function(){i.prototype._create.call(this),this.packer=new r,this.stamp(this.options.stamped);var t=this;this.handleDraggabilly={dragStart:function(){t.itemDragStart(this.element)},dragMove:function(){t.itemDragMove(this.element,this.position.x,this.position.y)},dragEnd:function(){t.itemDragEnd(this.element)}},this.handleUIDraggable={start:function(e){t.itemDragStart(e.currentTarget)},drag:function(e,i){t.itemDragMove(e.currentTarget,i.position.left,i.position.top)},stop:function(e){t.itemDragEnd(e.currentTarget)}}},f.prototype._resetLayout=function(){this.getSize(),this._getMeasurements();var t=this.packer;this.options.isHorizontal?(t.width=Number.POSITIVE_INFINITY,t.height=this.size.innerHeight+this.gutter,t.sortDirection="rightwardTopToBottom"):(t.width=this.size.innerWidth+this.gutter,t.height=Number.POSITIVE_INFINITY,t.sortDirection="downwardLeftToRight"),t.reset(),this.maxY=0,this.maxX=0},f.prototype._getMeasurements=function(){this._getMeasurement("columnWidth","width"),this._getMeasurement("rowHeight","height"),this._getMeasurement("gutter","width")},f.prototype._getItemLayoutPosition=function(t){return this._packItem(t),t.rect},f.prototype._packItem=function(t){this._setRectSize(t.element,t.rect),this.packer.pack(t.rect),this._setMaxXY(t.rect)},f.prototype._setMaxXY=function(t){this.maxX=Math.max(t.x+t.width,this.maxX),this.maxY=Math.max(t.y+t.height,this.maxY)},f.prototype._setRectSize=function(t,i){var n=e(t),r=n.outerWidth,o=n.outerHeight;(r||o)&&(r=this._applyGridGutter(r,this.columnWidth),o=this._applyGridGutter(o,this.rowHeight)),i.width=Math.min(r,this.packer.width),i.height=Math.min(o,this.packer.height)},f.prototype._applyGridGutter=function(t,e){if(!e)return t+this.gutter;e+=this.gutter;var i=t%e,n=i&&1>i?"round":"ceil";return t=Math[n](t/e)*e},f.prototype._getContainerSize=function(){return this.options.isHorizontal?{width:this.maxX-this.gutter}:{height:this.maxY-this.gutter}},f.prototype._manageStamp=function(t){var e,i=this.getItem(t);if(i&&i.isPlacing)e=i.placeRect;else{var r=this._getElementOffset(t);e=new n({x:this.options.isOriginLeft?r.left:r.right,y:this.options.isOriginTop?r.top:r.bottom})}this._setRectSize(t,e),this.packer.placed(e),this._setMaxXY(e)},f.prototype.sortItemsByPosition=function(){var t=this.options.isHorizontal?a:s;this.items.sort(t)},f.prototype.fit=function(t,e,i){var n=this.getItem(t);n&&(this._getMeasurements(),this.stamp(n.element),n.getSize(),n.isPlacing=!0,e=void 0===e?n.rect.x:e,i=void 0===i?n.rect.y:i,n.positionPlaceRect(e,i,!0),this._bindFitEvents(n),n.moveTo(n.placeRect.x,n.placeRect.y),this.layout(),this.unstamp(n.element),this.sortItemsByPosition(),n.isPlacing=!1,n.copyPlaceRectPosition())},f.prototype._bindFitEvents=function(t){function e(){n++,2==n&&i.emitEvent("fitComplete",[t])}var i=this,n=0;t.on("layout",function(){return e(),!0}),this.on("layoutComplete",function(){return e(),!0})},f.prototype.resize=function(){var t=e(this.element),i=this.size&&t,n=this.options.isHorizontal?"innerHeight":"innerWidth";i&&t[n]==this.size[n]||this.layout()},f.prototype.itemDragStart=function(t){this.stamp(t);var e=this.getItem(t);e&&e.dragStart()},f.prototype.itemDragMove=function(t,e,i){function n(){o.layout(),delete o.dragTimeout}var r=this.getItem(t);r&&r.dragMove(e,i);var o=this;this.clearDragTimeout(),this.dragTimeout=setTimeout(n,40)},f.prototype.clearDragTimeout=function(){this.dragTimeout&&clearTimeout(this.dragTimeout)},f.prototype.itemDragEnd=function(e){var i,n=this.getItem(e);if(n&&(i=n.didDrag,n.dragStop()),!n||!i&&!n.needsPositioning)return void this.unstamp(e);t.add(n.element,"is-positioning-post-drag");var r=this._getDragEndLayoutComplete(e,n);n.needsPositioning?(n.on("layout",r),n.moveTo(n.placeRect.x,n.placeRect.y)):n&&n.copyPlaceRectPosition(),this.clearDragTimeout(),this.on("layoutComplete",r),this.layout()},f.prototype._getDragEndLayoutComplete=function(e,i){var n=i&&i.needsPositioning,r=0,o=n?2:1,s=this;return function(){return r++,r!=o?!0:(i&&(t.remove(i.element,"is-positioning-post-drag"),i.isPlacing=!1,i.copyPlaceRectPosition()),s.unstamp(e),s.sortItemsByPosition(),n&&s.emitEvent("dragItemPositioned",[i]),!0)}},f.prototype.bindDraggabillyEvents=function(t){t.on("dragStart",this.handleDraggabilly.dragStart),t.on("dragMove",this.handleDraggabilly.dragMove),t.on("dragEnd",this.handleDraggabilly.dragEnd)},f.prototype.bindUIDraggableEvents=function(t){t.on("dragstart",this.handleUIDraggable.start).on("drag",this.handleUIDraggable.drag).on("dragstop",this.handleUIDraggable.stop)},f.Rect=n,f.Packer=r,f}),function(t,e){"function"==typeof define&&define.amd?define(["isotope/js/layout-mode","packery/js/packery","get-size/get-size"],e):"object"==typeof exports?module.exports=e(require("isotope-layout/js/layout-mode"),require("packery"),require("get-size")):e(t.Isotope.LayoutMode,t.Packery,t.getSize)}(window,function(t,e,i){function n(t,e){for(var i in e)t[i]=e[i];return t}var r=t.create("packery"),o=r.prototype._getElementOffset,s=r.prototype._getMeasurement;n(r.prototype,e.prototype),r.prototype._getElementOffset=o,r.prototype._getMeasurement=s;var a=r.prototype._resetLayout;r.prototype._resetLayout=function(){this.packer=this.packer||new e.Packer,a.apply(this,arguments)};var f=r.prototype._getItemLayoutPosition;r.prototype._getItemLayoutPosition=function(t){return t.rect=t.rect||new e.Rect,f.call(this,t)};var u=r.prototype._manageStamp;return r.prototype._manageStamp=function(){this.options.isOriginLeft=this.isotope.options.isOriginLeft,this.options.isOriginTop=this.isotope.options.isOriginTop,u.apply(this,arguments)},r.prototype.needsResizeLayout=function(){var t=i(this.element),e=this.size&&t,n=this.options.isHorizontal?"innerHeight":"innerWidth";return e&&t[n]!=this.size[n]},r});